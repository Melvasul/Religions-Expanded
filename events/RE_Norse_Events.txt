namespace = RE_Norse_Events
#Where are the Ice Giants?
country_event = {
	id = RE_Norse_Events.1
	title = RE_Norse_Events.1.t
	desc = RE_Norse_Events.1.d
	picture = RE_NORSE_RAVEN_MOON_eventPicture
	trigger = {
		culture_group = scandinavian
		NOT = {
			has_country_flag = RE_Norse_hail_odin
		}
	}
	mean_time_to_happen = {
		days = 30
	}
	option = {
		name = RE_Norse_Events.1.a
		ai_chance = {
			factor = 1
		}
		random_owned_province = {
			set_province_flag = RE_Norse_current_infected
		}
		set_country_flag = RE_Norse_hail_odin
	}
	option = {
		name = RE_Norse_Events.1.b
	}
}

#Flock is Gathering
province_event = {
	id = RE_Norse_Events.2
	title = RE_Norse_Events.2.t
	desc = RE_Norse_Events.2.d
	picture = RE_NORSE_RAVENS_eventPicture
	goto = ROOT
	mean_time_to_happen = {
		months = 60
	}
	trigger = {
		OR = {
			AND = {
				has_province_flag = RE_Norse_previous_infected
				NOT = {
					religion = norse_pagan_reformed
				}
			}
			has_province_flag = RE_Norse_current_infected
		}
	}
	option = {
		name = RE_Norse_Events.2.a
		RE_Norse_spread_norse_faith = yes
	}
	option = {
		ai_chance = {
			factor = 1
		}
		name = RE_Norse_Events.2.a
		set_province_flag = RE_Norse_previous_infected
		RE_Norse_spread_norse_faith = yes
	}
}

#Clear infection flags
country_event = {
	id = RE_Norse_Events.3
	title = RE_Norse_Events.3.t
	desc = RE_Norse_Events.3.d
	picture = CORRUPTION_eventPicture
	hidden = yes
	trigger = {
		religion = norse_pagan_reformed
		all_owned_province = {
			religion = norse_pagan_reformed
		}
		any_owned_province = {
			OR = {
				has_province_flag = RE_Norse_current_infected
				has_province_flag = RE_Norse_previous_infected
			}
		}
	}
	immediate = {
		every_owned_province = {
			clr_province_flag = RE_Norse_current_infected
			clr_province_flag = RE_Norse_previous_infected
		}
	}
	option = {
		name = RE_Norse_Events.3.a
		ai_chance = {
			factor = 1
		}
	}
}

#Hail to Odin!
province_event = {
	id = RE_Norse_Events.4
	title = RE_Norse_Events.4.t
	desc = RE_Norse_Events.4.d
	picture = RE_NORSE_WARLORD_CRY_eventPicture
	goto = ROOT
	trigger = {
		owner = {
			NOT = {
				religion = norse_pagan_reformed
			}
		}
		NOT = {
			has_rebel_faction = norse_pagan_reformed_rebels
		}
		religion = norse_pagan_reformed
	}
	mean_time_to_happen = {
		months = 300
	}
	option = {
		goto = ROOT
		name = RE_Norse_Events.4.a
		norse_pagan_reformed_rebels = 2
		random_neighbor_province = {
			limit = {
				owned_by = ROOT
			}
			norse_pagan_reformed_rebels = 1
		}
	}
}

#Spread Faith?
country_event = {
	id = RE_Norse_Events.5
	title = RE_Norse_Events.5.t
	desc = RE_Norse_Events.5.d
	picture = RE_NORSE_SACRIFICE2_eventPicture
	trigger = {
		religion = norse_pagan_reformed
		all_owned_province = {
			any_neighbor_province = {
				NOT = {
					AND = {
						religion = norse_pagan_reformed
						owned_by = ROOT
					}
				}
			}
		}
	}
	mean_time_to_happen = {
		months = 120
	}
	option = {
		name = RE_Norse_Events.5.a
		ai_chance = {
			factor = 1
		}
		random_neighbor_country = {
			limit = {
				NOT = {
					religion = norse_pagan_reformed
				}
			}
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
					}
					NOT = {
						religion = norse_pagan_reformed
					}
				}
				change_religion = norse_pagan_reformed
				owner = {
					country_event = {
						id = RE_Norse_Events.6
					}
				}
			}
		}
		add_prestige = 5
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
	}
	option = {
		name = RE_Norse_Events.5.b
		add_prestige = -5
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
	}
}

#Norse Heathens?
country_event = {
	id = RE_Norse_Events.6
	title = RE_Norse_Events.6.t
	desc = RE_Norse_Events.6.d
	picture = RE_NORSE_RAVEN_MOON_eventPicture
	is_triggered_only = yes
	option = {
		name = RE_Norse_Events.6.a
		add_casus_belli = {
			type = cb_border_war
			target = FROM
		}
	}
}

#Go Viking?
country_event = {
	id = RE_Norse_Events.7
	title = RE_Norse_Events.7.t
	desc = RE_Norse_Events.7.d
	picture = RE_NORSE_SHIELDWALL_PREPARATION_eventPicture
	trigger = {
		religion = norse_pagan_reformed
		any_neighbor_country = {
			NOT = {
				truce_with = ROOT
			}
		}
	}
	mean_time_to_happen = {
		months = 120
	}
	option = {
		name = RE_Norse_Events.7.a
		random_neighbor_country = {
			limit = {
				NOT = {
					truce_with = ROOT
				}
			}
			custom_tooltip = RE_Norse_Events.7.a.tooltip1
			tooltip = {
				add_casus_belli = {
					type = cb_border_war
					target = ROOT
				}
			}
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owned_by = ROOT
					}
				}
				save_event_target_as = RE_Norse_plundered_province
				add_devastation = 25
			}
			hidden_effect = {
				add_years_of_income = -0.1
				add_yearly_manpower = -0.1
				if = {
					limit = {
						event_target:RE_Norse_plundered_province = {
							has_port = yes
						}
					}
					add_yearly_sailors = -0.1
				}
				country_event = {
					id = RE_Norse_Events.8
				}
			}
		}
		add_prestige = 5
		add_years_of_income = 0.1
		add_yearly_manpower = 0.1
		if = {
			limit = {
				event_target:RE_Norse_plundered_province = {
					has_port = yes
				}
			}
			add_yearly_sailors = 0.1
		}
	}
	option = {
		name = RE_Norse_Events.7.b
		add_prestige = -5
	}
}

#Viking raid!
country_event = {
	id = RE_Norse_Events.8
	title = RE_Norse_Events.8.t
	desc = RE_Norse_Events.8.d
	picture = RE_NORSE_PLUNDER_eventPicture
	is_triggered_only = yes
	option = {
		tooltip = {
			event_target:RE_Norse_plundered_province = {
				add_devastation = 25
			}
			add_years_of_income = -0.1
			add_yearly_manpower = -0.1
			if = {
				limit = {
					event_target:RE_Norse_plundered_province = {
						has_port = yes
					}
				}
				add_yearly_sailors = -0.1
			}
		}
		name = RE_Norse_Events.8.a
		add_opinion = {
			who = FROM
			modifier = RE_Norse_viking_raid
		}
		add_casus_belli = {
			type = cb_border_war
			target = FROM
		}
	}
}

#The Seer 
country_event = {
	id = RE_Norse_Events.9
	title = RE_Norse_Events.9.t
	desc = RE_Norse_Events.9.d
	picture = RE_NORSE_SEER_eventPicture
	trigger = {
		religion = norse_pagan_reformed
		is_at_war = yes
		has_consort_regency = no
		has_regency = no
		NOT = {
			has_country_flag = RE_Norse_seer_runesticks
		}
	}
	option = {
		name = RE_Norse_Events.9.a
		country_event = {
			id = RE_Norse_Events.10
		}
		set_country_flag = RE_Norse_seer_runesticks
		set_country_flag = RE_Norse_agreed_to_cast_rune_sticks
		#hidden_effect = {
			random_list = {
				1 = {
					set_country_flag = RE_Norse_runesticks_effect1
					#You are completely unable to decipher his riddles, damn!
					modifier = {
						factor = 2
						OR = {
							NOT = { adm = 2 }
							NOT = { dip = 2 }
							NOT = { mil = 2 }
						}
					}
					modifier = {
						factor = 2.5
						OR = {
							NOT = { adm = 1 }
							NOT = { dip = 1 }
							NOT = { mil = 1 }
						}
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect2
					#You feel wiser as you march towards the war.
					modifier = {
						factor = 1.5
						OR = {
							adm = 3
							dip = 3
							mil = 3
						}
					}
					modifier = {
						factor = 2
						OR = {
							adm = 5
							dip = 5
							mil = 5
						}
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect3
					#You are almost sure there is something bad to happen...
					modifier = {
						factor = 0.5
						stability = 1
					}
					modifier = {
						factor = 1.5
						NOT = { stability = 0 }
					}
					modifier = {
						factor = 2
						NOT = { stability = -1 }
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect4
					#Omens, omens everywhere! You are lost!
					modifier = {
						factor = 1.5
						OR = {
							NOT = { adm = 2 }
							NOT = { dip = 2 }
							NOT = { mil = 2 }
						}
					}
					modifier = {
						factor = 2
						OR = {
							NOT = { adm = 1 }
							NOT = { dip = 1 }
							NOT = { mil = 1 }
						}
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect5
					#Omens, omens everywhere! You are encouraged!
					modifier = {
						factor = 1.25
						OR = {
							adm = 3
							dip = 3
							mil = 3
						}
					}
					modifier = {
						factor = 1.5
						OR = {
							adm = 4
							dip = 4
							mil = 4
						}
					}
					modifier = {
						factor = 2
						OR = {
							adm = 5
							dip = 5
							mil = 5
						}
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect6
					#Now you know exactly what must be done!
					modifier = {
						factor = 1
						OR = {
							adm = 3
							dip = 3
							mil = 3
						}
					}
					modifier = {
						factor = 1.5
						OR = {
							adm = 5
							dip = 5
							mil = 5
						}
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect7
					#What to do? What to do? You stray indecisively...
					modifier = {
						factor = 1.25
						OR = {
							NOT = { adm = 2 }
							NOT = { dip = 2 }
							NOT = { mil = 2 }
						}
					}
					modifier = {
						factor = 1.5
						OR = {
							NOT = { adm = 1 }
							NOT = { dip = 1 }
							NOT = { mil = 1 }
						}
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect8
					#You are the Gods' chosen one!
					modifier = {
						factor = 1.25
						OR = {
							adm = 4
							dip = 4
							mil = 4
						}
					}
					modifier = {
						factor = 2
						OR = {
							adm = 5
							dip = 5
							mil = 5
						}
					}
					modifier = {
						factor = 1.025
						prestige = 50
					}
					modifier = {
						factor = 1.05
						prestige = 75
					}
					modifier = {
						factor = 1.1
						prestige = 100
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect9
					#Gods ignore you and maybe even despise you? Doom surely awaits...
					modifier = {
						factor = 1.25
						OR = {
							NOT = { adm = 2 }
							NOT = { dip = 2 }
							NOT = { mil = 2 }
						}
					}
					modifier = {
						factor = 1.5
						OR = {
							NOT = { adm = 1 }
							NOT = { dip = 1 }
							NOT = { mil = 1 }
						}
					}
					modifier = {
						factor = 1.025
						NOT = { prestige = 25 }
					}
					modifier = {
						factor = 1.05
						NOT = { prestige = 10 }
					}
					modifier = {
						factor = 1.1
						NOT = { prestige = 0 }
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect10
					#You shall gain victory by your death, fear not!
					modifier = {
						factor = 0.01
						OR = {
							has_ruler_flag = RE_Norse_victory_by_death
							has_ruler_flag = RE_Norse_doomed_to_die
						}
					}
					modifier = {
						factor = 1.5
						AND = {
							ruler_age = 40
							OR = {
								adm = 3
								dip = 3
								mil = 3
							}
						}
					}
					modifier = {
						factor = 2
						AND = {
							ruler_age = 50
							OR = {
								adm = 3
								dip = 3
								mil = 3
							}
						}
					}
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect11
					#Oh no, oh no, you are going to die!
					modifier = {
						factor = 0.01
						OR = {
							has_ruler_flag = RE_Norse_victory_by_death
							has_ruler_flag = RE_Norse_doomed_to_die
						}
					}
					modifier = {
						factor = 1.5
						AND = {
							ruler_age = 40
							OR = {
								NOT = { adm = 1 }
								NOT = { dip = 1 }
								NOT = { mil = 1 }
							}
						}
					}
					modifier = {
						factor = 2
						AND = {
							ruler_age = 50
							OR = {
								NOT = { adm = 1 }
								NOT = { dip = 1 }
								NOT = { mil = 1 }
							}
						}
					}
				}
			}
		#}
	}
	option = {
		name = RE_Norse_Events.9.b
		add_prestige = -10
		set_country_flag = RE_Norse_refused_to_cast_rune_sticks
	}
}

#Prophecy
country_event = {
	id = RE_Norse_Events.10
	title = RE_Norse_Events.10.t
	desc = RE_Norse_Events.10.d
	picture = RE_NORSE_SEER_eventPicture
	is_triggered_only = yes
	option = {
		name = RE_Norse_Events.10.a
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect1
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip1
			add_prestige = -10
			clr_country_flag = RE_Norse_runesticks_effect1
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect2
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip2
			add_prestige = 5
			add_adm_power = 50
			add_dip_power = 50
			add_mil_power = 50
			clr_country_flag = RE_Norse_runesticks_effect2
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect3
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip3
			add_prestige = -5
			add_country_modifier = {
				name = RE_Norse_something_bad_is_to_happen
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect3
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect4
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip4
			add_prestige = -5
			add_country_modifier = {
				name = RE_Norse_lost_in_omens
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect4
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect5
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip5
			add_prestige = 5
			add_country_modifier = {
				name = RE_Norse_encouraged_by_omens
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect5
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect6
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip6
			add_prestige = 10
			add_country_modifier = {
				name = RE_Norse_what_must_be_done
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect6
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect7
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip7
			add_prestige = -5
			add_country_modifier = {
				name = RE_Norse_stray_indecisively
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect7
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect8
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip8
			add_stability_or_adm_power = yes
			add_prestige = 10
			add_country_modifier = {
				name = RE_Norse_gods_chosen_one
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect8
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect9
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip9
			add_stability = -1
			add_prestige = -10
			add_country_modifier = {
				name = RE_Norse_despised_by_gods
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect9
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect11
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip11
			add_prestige = 10
			set_ruler_flag = RE_Norse_victory_by_death
			clr_country_flag = RE_Norse_runesticks_effect11
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect11
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip11
			add_prestige = -10
			set_ruler_flag = RE_Norse_doomed_to_die
			clr_country_flag = RE_Norse_runesticks_effect11
		}
	}
}

#Clear flag RE_Norse_seer_runesticks
country_event = {
	id = RE_Norse_Events.11
	hidden = yes
	trigger = {
		is_at_war = no
		had_country_flag = {
			flag = RE_Norse_seer_runesticks
			days = 1825
		}
	}
	immediate = {
		clr_country_flag = RE_Norse_seer_runesticks
	}
	option = {
		name = RE_Norse_Events.11.a
		ai_chance = {
			factor = 1
		}
	}
	#Debugging options below
	option = {
		name = RE_Norse_Events.11.b
		set_country_flag = RE_Norse_agreed_to_cast_rune_sticks
	}
	option = {
		name = RE_Norse_Events.11.c
		set_country_flag = RE_Norse_refused_to_cast_rune_sticks
	}
	option = {
		name = RE_Norse_Events.11.d
		clr_country_flag = RE_Norse_agreed_to_cast_rune_sticks
		clr_country_flag = RE_Norse_refused_to_cast_rune_sticks
	}
}

#Prophesied Death
country_event = {
	id = RE_Norse_Events.12
	title = RE_Norse_Events.12.t
	desc = {
		trigger = {
			has_ruler_flag = RE_Norse_victory_by_death
		}
		desc = RE_Norse_Events.12.d1
	}
	desc = {
		trigger = {
			has_ruler_flag = RE_Norse_doomed_to_die
		}
		desc = RE_Norse_Events.12.d2
	}
	picture = {
		trigger = {
			has_ruler_flag = RE_Norse_victory_by_death
		}
		picture = RE_NORSE_THE_GATES_OF_VALHALLA2_eventPicture
	}
	picture = {
		trigger = {
			has_ruler_flag = RE_Norse_doomed_to_die
		}
		picture = RE_NORSE_DYING_WITH_SWORD_eventPicture
	}
	trigger = {
		OR = {
			has_ruler_flag = RE_Norse_victory_by_death
			has_ruler_flag = RE_Norse_doomed_to_die
		}
		is_monarch_leader = yes
		is_at_war = yes
		has_consort_regency = no
		has_regency = no
	}
	mean_time_to_happen = {
		days = 1825
	}
	option = {
		name = RE_Norse_Events.12.a
		if = {
			limit = {
				has_ruler_flag = RE_Norse_victory_by_death
			}
			kill_ruler = yes
			add_prestige = 25
			add_country_modifier = {
				name = RE_Norse_ruler_gone_to_valhalla
				duration = 3650
			}
			clr_ruler_flag = RE_Norse_victory_by_death
		}
		if = {
			limit = {
				has_ruler_flag = RE_Norse_doomed_to_die
			}
			kill_ruler = yes
			add_prestige = -25
			add_country_modifier = {
				name = RE_Norse_ruler_gone_to_niflheim
				duration = 3650
			}
			clr_ruler_flag = RE_Norse_doomed_to_die
		}
	}
}

#Madman?
country_event = {
	id = RE_Norse_Events.13
	title = RE_Norse_Events.13.t
	desc = {
		trigger = {
			has_country_flag = RE_Norse_agreed_to_cast_rune_sticks
		}
		desc = RE_Norse_Events.13.d1
	}
	desc = {
		trigger = {
			has_country_flag = RE_Norse_refused_to_cast_rune_sticks
		}
		desc = RE_Norse_Events.13.d2
	}
	picture = RE_NORSE_ODIN_eventPicture
	trigger = {
		OR = {
			has_country_flag = RE_Norse_agreed_to_cast_rune_sticks
			has_country_flag = RE_Norse_refused_to_cast_rune_sticks
		}
		OR = {
			had_country_flag = {
				flag = RE_Norse_visit_from_odin
				days = 9125
			}
			NOT = {
				has_country_flag = RE_Norse_visit_from_odin
			}
		}
	}
	mean_time_to_happen = {
		months = 300
	}
	option = {
		name = RE_Norse_Events.13.a
		if = {
			limit = {
				has_country_flag = RE_Norse_agreed_to_cast_rune_sticks
			}
			add_stability_or_adm_power = yes
			add_adm_power = 50
			add_dip_power = 50
			add_mil_power = 50
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_refused_to_cast_rune_sticks
			}
			add_stability = -2
		}
		set_country_flag = RE_Norse_visit_from_odin
	}
}

#Feed the Corpse Eater!
province_event = {
	id = RE_Norse_Events.14
	title = RE_Norse_Events.14.t
	desc = RE_Norse_Events.14.d
	picture = RE_NORSE_SACRIFICE_eventPicture
	trigger = {
		owner = {
			religion = norse_pagan_reformed
			NOT = {
				has_country_modifier = RE_Norse_unaccepted_infidels
			}
			NOT = {
				has_country_modifier = RE_Norse_accepted_infidels
			}
		}
		NOT = {
			religion = norse_pagan_reformed
		}
	}
	mean_time_to_happen = {
		months = 200
	}
	option = {
		name = RE_Norse_Events.14.a
		ai_chance = {
			factor = 1
		}
		owner = {
			add_prestige = 10
			add_country_modifier = {
				name = RE_Norse_unaccepted_infidels
				duration = 3650
			}
		}
	}
	option = {
		name = RE_Norse_Events.14.b
		owner = {
			add_prestige = -10
			add_country_modifier = {
				name = RE_Norse_accepted_infidels
				duration = 3650
			}
		}
	}
	option = {
		name = RE_Norse_Events.14.c
		owner = {
			add_stability = -1
			add_prestige = -10
		}
	}
}

country_event = {
	id = RE_Norse_Events.100
	title = RE_Norse_Events.100.t
	desc = RE_Norse_Events.100.d
	picture = RE_NORSE_SEER_eventPicture
	is_triggered_only = yes
	option = {
		name = RE_Norse_Events.100.a
		set_ruler_flag = RE_Norse_victory_by_death
	}
	option = {
		name = RE_Norse_Events.100.b
		set_ruler_flag = RE_Norse_doomed_to_die
	}
}
