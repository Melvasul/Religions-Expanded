namespace = RE_Norse_Events
#The Seer 
country_event = {
	id = RE_Norse_Events.9
	title = RE_Norse_Events.9.t
	desc = RE_Norse_Events.9.d
	picture = RE_NORSE_SEER_eventPicture
	trigger = {
		religion = norse_pagan_reformed
		is_at_war = yes
		is_lesser_in_union = no
		has_consort_regency = no
		has_regency = no
		NOT = {
			has_country_flag = RE_Norse_seer_runesticks
		}
	}
	option = {
		name = RE_Norse_Events.9.a
		country_event = {
			id = RE_Norse_Events.10
		}
		set_country_flag = RE_Norse_seer_runesticks
		set_country_flag = RE_Norse_agreed_to_cast_rune_sticks
		hidden_effect = {
			random_list = {
				2 = {
					set_country_flag = RE_Norse_runesticks_effect1
					#You are completely unable to decipher his riddles, damn!
				}
				4 = {
					set_country_flag = RE_Norse_runesticks_effect2
					#You feel wiser as you march towards the war.
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect3
					#You are almost sure there is something bad to happen...
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect4
					#Omens, omens everywhere! You are lost!
				}
				4 = {
					set_country_flag = RE_Norse_runesticks_effect5
					#Omens, omens everywhere! You are encouraged!
				}
				4 = {
					set_country_flag = RE_Norse_runesticks_effect6
					#Now you know exactly what must be done!
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect7
					#What to do? What to do? You stray indecisively...
				}
				2 = {
					set_country_flag = RE_Norse_runesticks_effect8
					#You are the Gods' chosen one!
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect9
					#Gods ignore you and maybe even despise you? Doom surely awaits...
				}
				1 = {
					modifier = {
						factor = 0
						OR = {
							has_ruler_flag = RE_Norse_victory_by_death
							has_ruler_flag = RE_Norse_doomed_to_die
						}
					}
					set_country_flag = RE_Norse_runesticks_effect10
					#You shall gain victory by your death, fear not!
				}
				1 = {
					modifier = {
						factor = 0
						OR = {
							has_ruler_flag = RE_Norse_victory_by_death
							has_ruler_flag = RE_Norse_doomed_to_die
						}
					}
					set_country_flag = RE_Norse_runesticks_effect11
					#Oh no, oh no, you are going to die!
				}
				3 = {
					set_country_flag = RE_Norse_runesticks_effect12
					#The knowledge of administration has been revealed to you.
				}
				3 = {
					set_country_flag = RE_Norse_runesticks_effect13
					#The knowledge of diplomacy has been revealed to you.
				}
				3 = {
					set_country_flag = RE_Norse_runesticks_effect14
					#The knowledge of warfare has been revealed to you.
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect15
					#Everything you knew about administration has been proven wrong... 
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect16
					#Everything you knew about diplomacy has been proven wrong... 
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect17
					#Everything you knew about warfare has been proven wrong... 
				}
				1 = {
					set_country_flag = RE_Norse_runesticks_effect18
					#You know nothing, you are leading nowhere! 
				}
				2 = {
					modifier = {
						factor = 0
						has_country_flag = RE_Norse_sign_of_prosperity
					}
					set_country_flag = RE_Norse_runesticks_effect19
					#There shall be a sign of prosperity!
				}
				1 = {
					modifier = {
						factor = 0
						has_country_flag = RE_Norse_misfortune_strikes
					}
					set_country_flag = RE_Norse_runesticks_effect20
					#Misfortune shall strike your lands!
				}
			}
		}
	}
	option = {
		name = RE_Norse_Events.9.b
		add_prestige = -5
		set_country_flag = RE_Norse_refused_to_cast_rune_sticks
	}
}

#Prophecy
country_event = {
	id = RE_Norse_Events.10
	title = RE_Norse_Events.10.t
	desc = RE_Norse_Events.10.d
	picture = RE_NORSE_SEER_eventPicture
	is_triggered_only = yes
	option = {
		name = RE_Norse_Events.10.a
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect1
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip1
			add_prestige = -10
			clr_country_flag = RE_Norse_runesticks_effect1
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect2
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip2
			add_prestige_or_monarch_power = {
				amount = 5
			}
			add_adm_power = 50
			add_dip_power = 50
			add_mil_power = 50
			clr_country_flag = RE_Norse_runesticks_effect2
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect3
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip3
			add_prestige = -5
			add_country_modifier = {
				name = RE_Norse_something_bad_is_to_happen
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect3
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect4
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip4
			add_prestige = -5
			add_country_modifier = {
				name = RE_Norse_lost_in_omens
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect4
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect5
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip5
			add_prestige_or_monarch_power = {
				amount = 5
			}
			add_country_modifier = {
				name = RE_Norse_encouraged_by_omens
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect5
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect6
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip6
			add_prestige = 10
			add_country_modifier = {
				name = RE_Norse_what_must_be_done
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect6
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect7
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip7
			add_prestige = -5
			add_country_modifier = {
				name = RE_Norse_stray_indecisively
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect7
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect8
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip8
			add_stability_or_adm_power = yes
			add_prestige_or_monarch_power = {
				amount = 10
			}
			add_country_modifier = {
				name = RE_Norse_gods_chosen_one
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect8
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect9
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip9
			add_stability = -1
			add_prestige = -10
			add_country_modifier = {
				name = RE_Norse_despised_by_gods
				duration = 1825
			}
			clr_country_flag = RE_Norse_runesticks_effect9
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect10
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip10
			add_prestige_or_monarch_power = {
				amount = 10
			}
			set_ruler_flag = RE_Norse_victory_by_death
			clr_country_flag = RE_Norse_runesticks_effect10
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect11
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip11
			add_prestige = -10
			set_ruler_flag = RE_Norse_doomed_to_die
			clr_country_flag = RE_Norse_runesticks_effect11
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect12
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip12
			add_prestige_or_monarch_power = {
				amount = 5
			}
			add_adm_power = 50
			add_country_modifier = {
				name = RE_Norse_knowledge_of_administration_positive
				duration = 1850
			}
			clr_country_flag = RE_Norse_runesticks_effect12
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect13
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip13
			add_prestige_or_monarch_power = {
				amount = 5
			}
			add_dip_power = 50
			add_country_modifier = {
				name = RE_Norse_knowledge_of_diplomacy_positive
				duration = 1850
			}
			clr_country_flag = RE_Norse_runesticks_effect13
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect14
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip14
			add_prestige_or_monarch_power = {
				amount = 5
			}
			add_mil_power = 50
			add_country_modifier = {
				name = RE_Norse_knowledge_of_warfare_positive
				duration = 1850
			}
			clr_country_flag = RE_Norse_runesticks_effect14
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect15
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip15
			add_prestige = -5
			add_adm_power = -25
			add_country_modifier = {
				name = RE_Norse_knowledge_of_administration_negative
				duration = 1850
			}
			clr_country_flag = RE_Norse_runesticks_effect15
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect16
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip16
			add_prestige = -5
			add_dip_power = -25
			add_country_modifier = {
				name = RE_Norse_knowledge_of_diplomacy_negative
				duration = 1850
			}
			clr_country_flag = RE_Norse_runesticks_effect16
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect17
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip17
			add_prestige = -5
			add_mil_power = -25
			add_country_modifier = {
				name = RE_Norse_knowledge_of_warfare_negative
				duration = 1850
			}
			clr_country_flag = RE_Norse_runesticks_effect17
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect18
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip18
			add_prestige = -5
			add_adm_power = -15
			add_dip_power = -15
			add_mil_power = -15
			clr_country_flag = RE_Norse_runesticks_effect18
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect19
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip19
			add_prestige_or_monarch_power = {
				amount = 10
			}
			set_country_flag = RE_Norse_sign_of_prosperity
			clr_country_flag = RE_Norse_runesticks_effect19
		}
		if = {
			limit = {
				has_country_flag = RE_Norse_runesticks_effect20
			}
			custom_tooltip = RE_Norse_Events.10.a.tooltip20
			add_prestige = -10
			set_country_flag = RE_Norse_misfortune_strikes
			clr_country_flag = RE_Norse_runesticks_effect20
		}
	}
}

#Clear flag RE_Norse_seer_runesticks
country_event = {
	id = RE_Norse_Events.11
	title = RE_Norse_Events.11.t
	desc = RE_Norse_Events.11.d
	picture = RE_NORSE_SEER_eventPicture
	hidden = yes
	trigger = {
		is_at_war = no
		had_country_flag = {
			flag = RE_Norse_seer_runesticks
			days = 1850
		}
	}
	immediate = {
		clr_country_flag = RE_Norse_seer_runesticks
	}
	option = {
		name = RE_Norse_Events.11.a
		ai_chance = {
			factor = 1
		}
	}
	#Debugging options below
	option = {
		name = RE_Norse_Events.11.b
		set_country_flag = RE_Norse_agreed_to_cast_rune_sticks
	}
	option = {
		name = RE_Norse_Events.11.c
		set_country_flag = RE_Norse_refused_to_cast_rune_sticks
	}
	option = {
		name = RE_Norse_Events.11.d
		clr_country_flag = RE_Norse_agreed_to_cast_rune_sticks
		clr_country_flag = RE_Norse_refused_to_cast_rune_sticks
	}
}

#Prophesied Death
country_event = {
	id = RE_Norse_Events.12
	title = RE_Norse_Events.12.t
	desc = {
		trigger = {
			has_ruler_flag = RE_Norse_victory_by_death
		}
		desc = RE_Norse_Events.12.d1
	}
	desc = {
		trigger = {
			has_ruler_flag = RE_Norse_doomed_to_die
		}
		desc = RE_Norse_Events.12.d2
	}
	picture = {
		trigger = {
			has_ruler_flag = RE_Norse_victory_by_death
		}
		picture = RE_NORSE_THE_GATES_OF_VALHALLA2_eventPicture
	}
	picture = {
		trigger = {
			has_ruler_flag = RE_Norse_doomed_to_die
		}
		picture = RE_NORSE_DYING_WITH_SWORD_eventPicture
	}
	trigger = {
		OR = {
			has_ruler_flag = RE_Norse_victory_by_death
			has_ruler_flag = RE_Norse_doomed_to_die
		}
		is_monarch_leader = yes
		is_at_war = yes
		has_consort_regency = no
		has_regency = no
	}
	mean_time_to_happen = {
		months = 24
	}
	option = {
		name = RE_Norse_Events.12.a
		if = {
			limit = {
				has_ruler_flag = RE_Norse_victory_by_death
			}
			ROOT = {
				kill_ruler = yes
			}
			add_prestige_or_monarch_power = {
				amount = 25
			}
			add_country_modifier = {
				name = RE_Norse_ruler_gone_to_valhalla
				duration = 3650
			}
			clr_ruler_flag = RE_Norse_victory_by_death
		}
		if = {
			limit = {
				has_ruler_flag = RE_Norse_doomed_to_die
			}
			ROOT = {
				kill_ruler = yes
			}
			add_prestige = -25
			add_country_modifier = {
				name = RE_Norse_ruler_gone_to_niflheim
				duration = 3650
			}
			clr_ruler_flag = RE_Norse_doomed_to_die
		}
	}
}

#The Sign of Prosperity
country_event = {
	id = RE_Norse_Events.32
	title = RE_Norse_Events.32.t
	desc = RE_Norse_Events.32.d
	picture = RE_NORSE_FALLING_STAR_eventPicture
	trigger = {
		has_country_flag = RE_Norse_sign_of_prosperity
	}
	mean_time_to_happen = {
		months = 60
	}
	option = {
		name = RE_Norse_Events.32.a
		add_stability_or_adm_power = yes
		custom_tooltip = RE_Norse_Events.32.a.tooltip1
		while = {
			limit = {
				any_owned_province = {
					NOT = {
						has_province_flag = RE_Norse_checked_for_prosperity
					}
				}
			}
			random_owned_province = {
				limit = {
					is_state_core = ROOT
					all_province_in_state = {
						religion = norse_pagan_reformed
					}
					NOT = {
						has_province_flag = RE_Norse_checked_for_prosperity
					}
				}
				add_prosperity = 25
				every_province_in_state = {
					set_province_flag = RE_Norse_checked_for_prosperity
				}
			}
		}
	}
	after = {
		clr_country_flag = RE_Norse_sign_of_prosperity
		every_owned_province = {
			clr_province_flag = RE_Norse_checked_for_prosperity
		}
	}
}

#Misfortune strikes!
country_event = {
	id = RE_Norse_Events.33
	title = RE_Norse_Events.33.t
	desc = RE_Norse_Events.33.d
	picture = RE_NORSE_VIKING_IN_FLAMES_eventPicture
	trigger = {
		has_country_flag = RE_Norse_misfortune_strikes
	}
	mean_time_to_happen = {
		months = 60
	}
	option = {
		name = RE_Norse_Events.33.a
		add_stability = -1
		custom_tooltip = RE_Norse_Events.33.a.tooltip1
		while = {
			limit = {
				any_owned_province = {
					NOT = {
						has_province_flag = RE_Norse_checked_for_misfortune
					}
				}
			}
			random_owned_province = {
				limit = {
					is_state_core = ROOT
					all_province_in_state = {
						religion = norse_pagan_reformed
					}
					NOT = {
						has_province_flag = RE_Norse_checked_for_misfortune
					}
				}
				add_prosperity = -15
				every_province_in_state = {
					set_province_flag = RE_Norse_checked_for_misfortune
				}
			}
		}
	}
	after = {
		clr_country_flag = RE_Norse_misfortune_strikes
		every_owned_province = {
			clr_province_flag = RE_Norse_checked_for_misfortune
		}
	}
}
